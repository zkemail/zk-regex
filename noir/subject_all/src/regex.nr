use crate::common::{check_transition, SparseArray};

global TRANSITION_TABLE: SparseArray<1206, Field> = SparseArray {
    keys: [0x00000000, 0x00000000, 0x00000001, 0x00000101, 0x00000102, 0x00000202, 0x00000203, 0x00000303, 0x00000304, 0x00000404, 0x00000405, 0x00000505, 0x00000506, 0x00000606, 0x00000607, 0x00000707, 0x00000708, 0x00000808, 0x00000809, 0x00000909, 0x0000090a, 0x00000a0a, 0x00000a0b, 0x00000b0b, 0x00000b0c, 0x00000c0c, 0x00000c0d, 0x00000d0d, 0x00000d0e, 0x00000e0e, 0x00000e0f, 0x00000f0f, 0x00000f10, 0x00001010, 0x00001011, 0x00001111, 0x00001112, 0x00001212, 0x00001213, 0x00001313, 0x00001314, 0x00001414, 0x00001415, 0x00001515, 0x00001516, 0x00001616, 0x00001617, 0x00001717, 0x00001718, 0x00001818, 0x00001819, 0x00001919, 0x0000191a, 0x00001a1a, 0x00001a1b, 0x00001b1b, 0x00001b1c, 0x00001c1c, 0x00001c1d, 0x00001d1d, 0x00001d1e, 0x00001e1e, 0x00001e1f, 0x00001f1f, 0x00001f20, 0x00002020, 0x00002021, 0x00002121, 0x00002122, 0x00002222, 0x00002223, 0x00002323, 0x00002324, 0x00002424, 0x00002425, 0x00002525, 0x00002526, 0x00002626, 0x00002627, 0x00002727, 0x00002728, 0x00002828, 0x00002829, 0x00002929, 0x0000292a, 0x00002a2a, 0x00002a2b, 0x00002b2b, 0x00002b2c, 0x00002c2c, 0x00002c2d, 0x00002d2d, 0x00002d2e, 0x00002e2e, 0x00002e2f, 0x00002f2f, 0x00002f30, 0x00003030, 0x00003031, 0x00003131, 0x00003132, 0x00003232, 0x00003233, 0x00003333, 0x00003334, 0x00003434, 0x00003435, 0x00003535, 0x00003536, 0x00003636, 0x00003637, 0x00003737, 0x00003738, 0x00003838, 0x00003839, 0x00003939, 0x0000393a, 0x00003a3a, 0x00003a3b, 0x00003b3b, 0x00003b3c, 0x00003c3c, 0x00003c3d, 0x00003d3d, 0x00003d3e, 0x00003e3e, 0x00003e3f, 0x00003f3f, 0x00003f40, 0x00004040, 0x00004041, 0x00004141, 0x00004142, 0x00004242, 0x00004243, 0x00004343, 0x00004344, 0x00004444, 0x00004445, 0x00004545, 0x00004546, 0x00004646, 0x00004647, 0x00004747, 0x00004748, 0x00004848, 0x00004849, 0x00004949, 0x0000494a, 0x00004a4a, 0x00004a4b, 0x00004b4b, 0x00004b4c, 0x00004c4c, 0x00004c4d, 0x00004d4d, 0x00004d4e, 0x00004e4e, 0x00004e4f, 0x00004f4f, 0x00004f50, 0x00005050, 0x00005051, 0x00005151, 0x00005152, 0x00005252, 0x00005253, 0x00005353, 0x00005354, 0x00005454, 0x00005455, 0x00005555, 0x00005556, 0x00005656, 0x00005657, 0x00005757, 0x00005758, 0x00005858, 0x00005859, 0x00005959, 0x0000595a, 0x00005a5a, 0x00005a5b, 0x00005b5b, 0x00005b5c, 0x00005c5c, 0x00005c5d, 0x00005d5d, 0x00005d5e, 0x00005e5e, 0x00005e5f, 0x00005f5f, 0x00005f60, 0x00006060, 0x00006061, 0x00006161, 0x00006162, 0x00006262, 0x00006263, 0x00006363, 0x00006364, 0x00006464, 0x00006465, 0x00006565, 0x00006566, 0x00006666, 0x00006667, 0x00006767, 0x00006768, 0x00006868, 0x00006869, 0x00006969, 0x0000696a, 0x00006a6a, 0x00006a6b, 0x00006b6b, 0x00006b6c, 0x00006c6c, 0x00006c6d, 0x00006d6d, 0x00006d6e, 0x00006e6e, 0x00006e6f, 0x00006f6f, 0x00006f70, 0x00007070, 0x00007071, 0x00007171, 0x00007172, 0x00007272, 0x00007273, 0x00007373, 0x00007374, 0x00007474, 0x00007475, 0x00007575, 0x00007576, 0x00007676, 0x00007677, 0x00007777, 0x00007778, 0x00007878, 0x00007879, 0x00007979, 0x0000797a, 0x00007a7a, 0x00007a7b, 0x00007b7b, 0x00007b7c, 0x00007c7c, 0x00007c7d, 0x00007d7d, 0x00007d7e, 0x00007e7e, 0x00007e7f, 0x00007f7f, 0x00007f80, 0x00008080, 0x00008081, 0x00008181, 0x00008182, 0x00008282, 0x00008283, 0x00008383, 0x00008384, 0x00008484, 0x00008485, 0x00008585, 0x00008586, 0x00008686, 0x00008687, 0x00008787, 0x00008788, 0x00008888, 0x00008889, 0x00008989, 0x0000898a, 0x00008a8a, 0x00008a8b, 0x00008b8b, 0x00008b8c, 0x00008c8c, 0x00008c8d, 0x00008d8d, 0x00008d8e, 0x00008e8e, 0x00008e8f, 0x00008f8f, 0x00008f90, 0x00009090, 0x00009091, 0x00009191, 0x00009192, 0x00009292, 0x00009293, 0x00009393, 0x00009394, 0x00009494, 0x00009495, 0x00009595, 0x00009596, 0x00009696, 0x00009697, 0x00009797, 0x00009798, 0x00009898, 0x00009899, 0x00009999, 0x0000999a, 0x00009a9a, 0x00009a9b, 0x00009b9b, 0x00009b9c, 0x00009c9c, 0x00009c9d, 0x00009d9d, 0x00009d9e, 0x00009e9e, 0x00009e9f, 0x00009f9f, 0x00009fa0, 0x0000a0a0, 0x0000a0a1, 0x0000a1a1, 0x0000a1a2, 0x0000a2a2, 0x0000a2a3, 0x0000a3a3, 0x0000a3a4, 0x0000a4a4, 0x0000a4a5, 0x0000a5a5, 0x0000a5a6, 0x0000a6a6, 0x0000a6a7, 0x0000a7a7, 0x0000a7a8, 0x0000a8a8, 0x0000a8a9, 0x0000a9a9, 0x0000a9aa, 0x0000aaaa, 0x0000aaab, 0x0000abab, 0x0000abac, 0x0000acac, 0x0000acad, 0x0000adad, 0x0000adae, 0x0000aeae, 0x0000aeaf, 0x0000afaf, 0x0000afb0, 0x0000b0b0, 0x0000b0b1, 0x0000b1b1, 0x0000b1b2, 0x0000b2b2, 0x0000b2b3, 0x0000b3b3, 0x0000b3b4, 0x0000b4b4, 0x0000b4b5, 0x0000b5b5, 0x0000b5b6, 0x0000b6b6, 0x0000b6b7, 0x0000b7b7, 0x0000b7b8, 0x0000b8b8, 0x0000b8b9, 0x0000b9b9, 0x0000b9ba, 0x0000baba, 0x0000babb, 0x0000bbbb, 0x0000bbbc, 0x0000bcbc, 0x0000bcbd, 0x0000bdbd, 0x0000bdbe, 0x0000bebe, 0x0000bebf, 0x0000bfbf, 0x0000bfc0, 0x0000c0c0, 0x0000c0c1, 0x0000c1c1, 0x0000c1c2, 0x0000c2c2, 0x0000c2c3, 0x0000c3c3, 0x0000c3c4, 0x0000c4c4, 0x0000c4c5, 0x0000c5c5, 0x0000c5c6, 0x0000c6c6, 0x0000c6c7, 0x0000c7c7, 0x0000c7c8, 0x0000c8c8, 0x0000c8c9, 0x0000c9c9, 0x0000c9ca, 0x0000caca, 0x0000cacb, 0x0000cbcb, 0x0000cbcc, 0x0000cccc, 0x0000cccd, 0x0000cdcd, 0x0000cdce, 0x0000cece, 0x0000cecf, 0x0000cfcf, 0x0000cfd0, 0x0000d0d0, 0x0000d0d1, 0x0000d1d1, 0x0000d1d2, 0x0000d2d2, 0x0000d2d3, 0x0000d3d3, 0x0000d3d4, 0x0000d4d4, 0x0000d4d5, 0x0000d5d5, 0x0000d5d6, 0x0000d6d6, 0x0000d6d7, 0x0000d7d7, 0x0000d7d8, 0x0000d8d8, 0x0000d8d9, 0x0000d9d9, 0x0000d9da, 0x0000dada, 0x0000dadb, 0x0000dbdb, 0x0000dbdc, 0x0000dcdc, 0x0000dcdd, 0x0000dddd, 0x0000ddde, 0x0000dede, 0x0000dedf, 0x0000dfdf, 0x0000dfe0, 0x0000e0e0, 0x0000e0e1, 0x0000e1e1, 0x0000e1e2, 0x0000e2e2, 0x0000e2e3, 0x0000e3e3, 0x0000e3e4, 0x0000e4e4, 0x0000e4e5, 0x0000e5e5, 0x0000e5e6, 0x0000e6e6, 0x0000e6e7, 0x0000e7e7, 0x0000e7e8, 0x0000e8e8, 0x0000e8e9, 0x0000e9e9, 0x0000e9ea, 0x0000eaea, 0x0000eaeb, 0x0000ebeb, 0x0000ebec, 0x0000ecec, 0x0000eced, 0x0000eded, 0x0000edee, 0x0000eeee, 0x0000eeef, 0x0000efef, 0x0000eff0, 0x0000f0f0, 0x0000f0f1, 0x0000f1f1, 0x0000f1f2, 0x0000f2f2, 0x0000f2f3, 0x0000f3f3, 0x0000f3f4, 0x0000f4f4, 0x0000f4f5, 0x0000f5f5, 0x0000f5f6, 0x0000f6f6, 0x0000f6f7, 0x0000f7f7, 0x0000f7f8, 0x0000f8f8, 0x0000f8f9, 0x0000f9f9, 0x0000f9fa, 0x0000fafa, 0x0000fafb, 0x0000fbfb, 0x0000fbfc, 0x0000fcfc, 0x0000fcfd, 0x0000fdfd, 0x0000fdfe, 0x0000fefe, 0x0000feff, 0x0000ffff, 0x00010000, 0x00041511, 0x00041513, 0x00041514, 0x00041517, 0x00071815, 0x0008837b, 0x0008837d, 0x00088380, 0x00088381, 0x00088382, 0x00098786, 0x000a7675, 0x000b807f, 0x000c7d7c, 0x000d7d7c, 0x000e908f, 0x000f9ea0, 0x000f9ea1, 0x000f9fa1, 0x000f9fa2, 0x000fa0a2, 0x000fa0a3, 0x000fa1a3, 0x000fa1a4, 0x000fa2a4, 0x000fa2a5, 0x000fa3a5, 0x000fa3a6, 0x000fa4a6, 0x000fa4a7, 0x000fa5a7, 0x000fa5a8, 0x000fa6a8, 0x000fa6a9, 0x000fa7a9, 0x000fa7aa, 0x000fa8aa, 0x000fa8ab, 0x000fa9ab, 0x000fa9ac, 0x000faaac, 0x000faaad, 0x000fabad, 0x000fabae, 0x000facae, 0x000facaf, 0x000fadaf, 0x000fadb0, 0x000faeb0, 0x000faeb1, 0x000fafb1, 0x000fafb2, 0x000fb0b2, 0x000fb0b3, 0x000fb1b3, 0x000fb1b4, 0x000fb2b4, 0x000fb2b5, 0x000fb3b5, 0x000fb3b6, 0x000fb4b6, 0x000fb4b7, 0x000fb5b7, 0x000fb5b8, 0x000fb6b8, 0x000fb6b9, 0x000fb7b9, 0x000fb7ba, 0x000fb8ba, 0x000fb8bb, 0x000fb9bb, 0x000fb9bc, 0x000fbabc, 0x000fbabd, 0x000fbbbd, 0x000fbbbe, 0x000fbcbe, 0x000fbcbf, 0x000fbdbf, 0x000fbdc0, 0x000fbebf, 0x000fbec0, 0x000fbfc0, 0x000fbfc1, 0x000fc0c1, 0x000fc0c2, 0x000fc1c2, 0x000fc1c3, 0x000fc2c3, 0x000fc2c4, 0x000fc3c4, 0x000fc3c5, 0x000fc4c5, 0x000fc4c6, 0x000fc5c6, 0x000fc5c7, 0x000fc6c7, 0x000fc6c8, 0x000fc7c8, 0x000fc7c9, 0x000fc8c9, 0x000fc8ca, 0x000fc9ca, 0x000fc9cb, 0x000fcacb, 0x000fcacc, 0x000fcbcc, 0x000fcbcd, 0x000fcccd, 0x000fccce, 0x000fcdce, 0x000fcdcf, 0x000fcecf, 0x000fced0, 0x000fcfd0, 0x000fcfd1, 0x000fd0d1, 0x000fd0d2, 0x000fd1d2, 0x000fd1d3, 0x000fd2d3, 0x000fd2d4, 0x000fd3d4, 0x000fd3d5, 0x000fd4d5, 0x000fd4d6, 0x000fd5d6, 0x000fd5d7, 0x000fd6d7, 0x000fd6d8, 0x000fd7d8, 0x000fd7d9, 0x000fd8d9, 0x000fd8da, 0x000fd9da, 0x000fd9db, 0x000fdadb, 0x000fdadc, 0x000fdbdc, 0x000fdbdd, 0x000fdcdd, 0x000fdcde, 0x000fddde, 0x000fdddf, 0x000fe0e7, 0x000fe0e8, 0x000fe1e8, 0x000fe1e9, 0x000fe2e9, 0x000fe2ea, 0x000fe3ea, 0x000fe3eb, 0x000fe4eb, 0x000fe4ec, 0x000fe5ec, 0x000fe5ed, 0x000fe6ed, 0x000fe6ee, 0x000fe7ee, 0x000fe7ef, 0x000fe8ef, 0x000fe8f0, 0x000fe9f0, 0x000fe9f1, 0x000feaf1, 0x000feaf2, 0x000febf2, 0x000febf3, 0x000fecf3, 0x000fecf4, 0x000fedf4, 0x000fedf5, 0x000feef5, 0x000feef6, 0x000feff6, 0x000feff7, 0x000ff0f7, 0x000ff0f8, 0x000ff1f8, 0x000ff1f9, 0x000ff2f9, 0x000ff2fa, 0x000ff3fa, 0x000ff3fb, 0x000ff4fb, 0x000ff4fc, 0x000ff5fc, 0x000ff5fd, 0x000ff6fd, 0x000ff6fe, 0x000ff7fe, 0x000ff7ff, 0x000ff8ff, 0x000ff900, 0x000ffa00, 0x000ffa01, 0x000ffb01, 0x000ffb02, 0x000ffc02, 0x000ffc03, 0x000ffd03, 0x000ffd04, 0x000ffe04, 0x000ffe05, 0x00110106, 0x00110107, 0x0011a2a5, 0x0011a2a6, 0x0011a3a6, 0x0011a3a7, 0x0011a4a7, 0x0011a4a8, 0x0011a5a8, 0x0011a5a9, 0x0011a6a9, 0x0011a6aa, 0x0011a7aa, 0x0011a7ab, 0x0011a8ab, 0x0011a8ac, 0x0011a9ac, 0x0011a9ad, 0x0011aaad, 0x0011aaae, 0x0011abae, 0x0011abaf, 0x0011acaf, 0x0011acb0, 0x0011adb0, 0x0011adb1, 0x0011aeb1, 0x0011aeb2, 0x0011afb2, 0x0011afb3, 0x0011b0b3, 0x0011b0b4, 0x0011b1b4, 0x0011b1b5, 0x0011b2b4, 0x0011b2b5, 0x0011b3b5, 0x0011b3b6, 0x0011b4b6, 0x0011b4b7, 0x0011b5b7, 0x0011b5b8, 0x0011b6b8, 0x0011b6b9, 0x0011b7b9, 0x0011b7ba, 0x0011b8ba, 0x0011b8bb, 0x0011b9bb, 0x0011b9bc, 0x0011babc, 0x0011babd, 0x0011bbbd, 0x0011bbbe, 0x0011bcbe, 0x0011bcbf, 0x0011bdbf, 0x0011bdc0, 0x0011bec0, 0x0011bec1, 0x0011bfc1, 0x0011bfc2, 0x0011c0c2, 0x0011c0c3, 0x0011c1c3, 0x0011c1c4, 0x0011c2c4, 0x0011c2c5, 0x0011c3c5, 0x0011c3c6, 0x0011c4c6, 0x0011c4c7, 0x0011c5c7, 0x0011c5c8, 0x0011c6c8, 0x0011c6c9, 0x0011c7c9, 0x0011c7ca, 0x0011c8ca, 0x0011c8cb, 0x0011c9cb, 0x0011c9cc, 0x0011cacc, 0x0011cacd, 0x0011cbcd, 0x0011cbce, 0x0011ccce, 0x0011cccf, 0x0011cdcf, 0x0011cdd0, 0x0011ced0, 0x0011ced1, 0x0011cfd1, 0x0011cfd2, 0x0011d0d2, 0x0011d0d3, 0x0011d1d3, 0x0011d1d4, 0x0011d2d4, 0x0011d2d5, 0x0011d3d5, 0x0011d3d6, 0x0011d4d6, 0x0011d4d7, 0x0011d5d7, 0x0011d5d8, 0x0011d6d8, 0x0011d6d9, 0x0011d7d9, 0x0011d7da, 0x0011d8da, 0x0011d8db, 0x0011d9db, 0x0011d9dc, 0x0011dadc, 0x0011dadd, 0x0011dbdd, 0x0011dbde, 0x0011dcde, 0x0011dcdf, 0x0011dddf, 0x0011dde0, 0x0011dee0, 0x0011dee1, 0x0011dfe1, 0x0011dfe2, 0x0011e0e2, 0x0011e0e3, 0x0011e1e3, 0x0011e1e4, 0x00120408, 0x00120409, 0x00120509, 0x0012050a, 0x0012060a, 0x0012060b, 0x0012070b, 0x0012070c, 0x0012080c, 0x0012080d, 0x0012090d, 0x0012090e, 0x00120a0e, 0x00120a0f, 0x00120b0f, 0x00120b10, 0x00120c10, 0x00120c11, 0x00120d11, 0x00120d12, 0x00120e12, 0x00120e13, 0x00120f13, 0x00120f14, 0x00121115, 0x00121116, 0x00121216, 0x00121217, 0x00131215, 0x00131216, 0x00141719, 0x0014171a, 0x00151a1b, 0x00151a1c, 0x00151b1c, 0x00151b1d, 0x00151c1d, 0x00151c1e, 0x00161f1f, 0x00161f20, 0x0016665e, 0x00172e2d, 0x00172e2e, 0x00172f2e, 0x00172f2f, 0x0017302f, 0x00173030, 0x00173130, 0x00173131, 0x00173231, 0x00173232, 0x00173332, 0x00173333, 0x00173433, 0x00173434, 0x00173534, 0x00173535, 0x00173635, 0x00173636, 0x00173736, 0x00173737, 0x00173938, 0x00173939, 0x00173a39, 0x00173a3a, 0x00173c3b, 0x00173c3c, 0x00173d3c, 0x00173d3d, 0x00173e3d, 0x00173e3e, 0x00173f3e, 0x00173f3f, 0x0017403f, 0x00174040, 0x00174140, 0x00174141, 0x00174241, 0x00174242, 0x00174342, 0x00174343, 0x00174443, 0x00174444, 0x00174544, 0x00174545, 0x00174645, 0x00174646, 0x00174746, 0x00174747, 0x00174847, 0x00174848, 0x00174948, 0x00174949, 0x00174a49, 0x00174a4a, 0x00174b4a, 0x00174b4b, 0x00174c4b, 0x00174c4c, 0x00174d4c, 0x00174d4d, 0x00174e4d, 0x00174e4e, 0x00174f4e, 0x00174f4f, 0x0017504f, 0x00175050, 0x00175150, 0x00175151, 0x00175251, 0x00175252, 0x00175352, 0x00175353, 0x00175453, 0x00175454, 0x00175554, 0x00175555, 0x00175655, 0x00175656, 0x00175756, 0x00175757, 0x00175857, 0x00175858, 0x00175958, 0x00175959, 0x00175a59, 0x00175a5a, 0x00175b5a, 0x00175b5b, 0x00175c5b, 0x00175c5c, 0x00175d5c, 0x00175d5d, 0x00175e5d, 0x00175e5e, 0x00175f5e, 0x00175f5f, 0x0017605f, 0x00176060, 0x00176160, 0x00176161, 0x00176261, 0x00176262, 0x00176362, 0x00176363, 0x00176463, 0x00176464, 0x00176564, 0x00176565, 0x00176665, 0x00176666, 0x00176766, 0x00176767, 0x00176867, 0x00176868, 0x00176968, 0x00176969, 0x00176a69, 0x00176a6a, 0x00176b6a, 0x00176b6b, 0x00176c6b, 0x00176c6c, 0x00176d6c, 0x00176d6d, 0x00176e6d, 0x00176e6e, 0x00176f6e, 0x00176f6f, 0x0017706f, 0x00177070, 0x00177170, 0x00177171, 0x00177271, 0x00177272, 0x00177372, 0x00177373, 0x00177473, 0x00177474, 0x00177574, 0x00177575, 0x00177675, 0x00177676, 0x00177776, 0x00177777, 0x00177877, 0x00177878, 0x00177978, 0x00177979, 0x00177a79, 0x00177a7a, 0x00177b7a, 0x00177b7b, 0x00177c7b, 0x00177c7c, 0x00177d7c, 0x00177d7d, 0x00177e7d, 0x00177e7e, 0x00177f7e, 0x00177f7f, 0x0017807f, 0x00178080, 0x00178180, 0x00178181, 0x00178281, 0x00178282, 0x00178382, 0x00178383, 0x00178483, 0x00178484, 0x00178584, 0x00178585, 0x00178685, 0x00178686, 0x00178786, 0x00178787, 0x00178887, 0x00178888, 0x00178988, 0x00178989, 0x00178a89, 0x00178a8a, 0x00178b8a, 0x00178b8b, 0x00178c8b, 0x00178c8c, 0x00178d8c, 0x00178d8d, 0x00178e8d, 0x00178e8e, 0x00178f8e, 0x00178f8f, 0x0017908f, 0x00179090, 0x00179190, 0x00179191, 0x00179291, 0x00179292, 0x00179392, 0x00179393, 0x00179493, 0x00179494, 0x00179594, 0x00179595, 0x00179695, 0x00179696, 0x00179796, 0x00179797, 0x00179897, 0x00179898, 0x00179998, 0x00179999, 0x00179a99, 0x00179a9a, 0x00179b9a, 0x00179b9b, 0x00179c9b, 0x00179c9c, 0x00179d9c, 0x00179d9d, 0x00179e9d, 0x00179e9e, 0x00179f9e, 0x00179f9f, 0x0017a09f, 0x0017a0a0, 0x0017a1a0, 0x0017a1a1, 0x0017a2a1, 0x0017a2a2, 0x0017a3a2, 0x0017a3a3, 0x0017a4a3, 0x0017a4a4, 0x0017a5a4, 0x0017a5a5, 0x0017a6a5, 0x0017a6a6, 0x0017a7a6, 0x0017a7a7, 0x0017a8a7, 0x0017a8a8, 0x0017a9a8, 0x0017a9a9, 0x0017aaa9, 0x0017aaaa, 0x0017abaa, 0x0017abab, 0x0017acab, 0x0017acac, 0x0017adac, 0x0017adad, 0x0017aea6, 0x0017afa7, 0x0017b0a8, 0x0017b1a9, 0x0017b2aa, 0x0017b3ab, 0x0017b4ac, 0x0017b5ad, 0x0017b6ae, 0x0017b7af, 0x0017b8b0, 0x0017b9b1, 0x0017bab2, 0x0017bbb3, 0x0017bcb4, 0x0017bdb5, 0x0017beb6, 0x0017bfb7, 0x0017c0b8, 0x0017c1b9, 0x0017c2ba, 0x0017c3bb, 0x0017c4bc, 0x0017c5bd, 0x0017c6be, 0x0017c7bf, 0x0017c8c0, 0x0017c9c1, 0x0017cac2, 0x0017cbc3, 0x0017ccc4, 0x0017cdc5, 0x0017cec6, 0x0017cfc7, 0x0017d0c8, 0x0017d1c9, 0x0017d2ca, 0x0017d3cb, 0x0017d4cc, 0x0017d5cd, 0x0017d6ce, 0x0017d7cf, 0x0017d8d0, 0x0017d9d1, 0x0017dad2, 0x0017dbd3, 0x0017dcd4, 0x0017ddd5, 0x0017ded6, 0x0017dfd7, 0x0017e0d8, 0x0017e1d9, 0x0017e2da, 0x0017e3db, 0x0017e4dc, 0x0017e5dd, 0x0017e6de, 0x0017e7df, 0x0017e8e0, 0x0017e9e1, 0x0017eae2, 0x0017ebe3, 0x0017ece4, 0x0017ede5, 0x00193f3d, 0x00193f3e, 0x001a3e3d, 0x00ca91fa],
    values: [0x00000000, 0x00000000, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000001, 0x00000000],
    maximum: 0x00ca91fa
};


fn check_start_state(start_state: Field) {
    let valid_start_state = (start_state - 0) * (start_state - 1) * (start_state - 2) * (start_state - 3) * (start_state - 5) * (start_state - 6) * (start_state - 7);
    assert(valid_start_state == 0, "Invalid start state");
}
    
fn check_accept_state(next_state: Field) -> Field {
    (next_state - 26) * (next_state - 27)
}

pub fn regex_match<let MAX_HAYSTACK_LENTH: u32>(
    haystack: [u8; MAX_HAYSTACK_LENTH],
    current_states: [Field; MAX_HAYSTACK_LENTH],
    next_states: [Field; MAX_HAYSTACK_LENTH],
    transition_length: u32,
) {
    // regex:"(?:\r\n|^)subject:[^\r\n]+\r\n"
    let mut reached_end_state = 1;
    check_start_state(current_states[0]);
    for i in 0..MAX_HAYSTACK_LENTH-1 {
        // transition length - 1 since current states should be 1 less than next states
        let in_range = (i < transition_length - 1) as Field;
        let matching_states = current_states[i + 1] - next_states[i];
        assert(in_range * matching_states == 0, "Invalid Transition Input");
    }
    for i in 0..MAX_HAYSTACK_LENTH {
        check_transition(
            haystack[i] as Field,
            current_states[i],
            next_states[i],
            reached_end_state,
            TRANSITION_TABLE
        );
        reached_end_state = reached_end_state * check_accept_state(next_states[i]);
    }
    assert(reached_end_state == 0, "Did not reach a valid end state");
}

